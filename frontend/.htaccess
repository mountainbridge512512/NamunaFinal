<IfModule mod_rewrite.c>
  RewriteEngine On

  # üîÅ Reverse proxy all /api requests to Node.js backend
  RewriteCond %{REQUEST_URI} ^/api/
  RewriteRule ^api/(.*)$ http://127.0.0.1:5000/api/$1 [P,L]

  # ‚úÖ Admin SPA routing (served from /admin/)
  RewriteCond %{REQUEST_URI} ^/admin
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^admin/(.*)$ /admin/index.html [L]

  # ‚úÖ Main site SPA routing
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^ index.html [L]
</IfModule>

# ‚úÖ MIME types (fallback)
AddType application/javascript .js
AddType text/css .css
